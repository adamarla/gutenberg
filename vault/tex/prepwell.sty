
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{prepwell}[2016/01/01 Common packages and settings for Prepwell]

%%% Base Setup

\RequirePackage{amsfonts}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage[width=6cm,left=2cm]{geometry}
\RequirePackage{newfile}
\RequirePackage{etoolbox}
\RequirePackage{xcolor}
\RequirePackage{background}

\renewcommand\sfdefault{cmss}
\renewcommand\familydefault\sfdefault
\notag
\pagenumbering{gobble}


\setlength\parindent{0pt}
\setlength\mathindent{0cm}
\setlength\abovedisplayskip{0pt}
\setlength\belowdisplayskip{0pt}
\setlength\abovedisplayshortskip{0pt}
\setlength\belowdisplayshortskip{0pt}

% \renewcommand\arraystretch{1.3}


% Vertical blue line to mark the maxium allowed width for a snippet. 
% Runs the entire length of the page. Switched off when \previewoff

\SetBgScale{1} 
\SetBgAngle{0} 
\SetBgColor{blue}
\SetBgHshift{\the\hoffset}

\newbool{preview}

\newcommand\previewon{
  \setbool{preview}{true}
  \SetBgContents{\rule{2pt}{\paperheight}}
}

\newcommand\previewoff{
  \setbool{preview}{false}
  \SetBgContents{}
}

\newcounter{index}
\setcounter{index}{1}

\newcommand\newcard{
  \stepcounter{index}

  \ifbool{preview}{
    \textcolor{red}{\newline tex-\theindex.svg \newline} 
  }{ 
    \newpage
  } 
} 


\newcommand\blankline{\vspace{0.3cm}}

%%% Call-backs 

\AtBeginDocument{ 
  \ifbool{preview}{
    \textcolor{red}{\newline tex-\theindex.svg \newline} 
  }{} 
} 

%\AfterEndPreamble{
%  \newoutputstream{xml}
%  \openoutputfile{layout.xml}{xml}
%
%  \addtostream{xml}{<?xml version='1.0' encoding='utf-8'?>}
%}
%
%\AfterEndDocument {
%  \closeoutputstream{xml}
%} 
